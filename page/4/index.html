<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://kongpengyq.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="努力坚持就会有希望">
<meta property="og:type" content="website">
<meta property="og:title" content="YQ &amp; 博客">
<meta property="og:url" content="https://kongpengyq.com/page/4/index.html">
<meta property="og:site_name" content="YQ &amp; 博客">
<meta property="og:description" content="努力坚持就会有希望">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="幺柒YQ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://kongpengyq.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>YQ & 博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="YQ & 博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YQ & 博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/07/10/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-6-10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/10/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-6-10/" class="post-title-link" itemprop="url">2023-6-10</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-10 00:00:00" itemprop="dateCreated datePublished" datetime="2023-07-10T00:00:00+08:00">2023-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/" itemprop="url" rel="index">
                    <span itemprop="name">每周以太坊进展</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Dencun-Cancun-Deneb-升级"><a href="#Dencun-Cancun-Deneb-升级" class="headerlink" title="Dencun (Cancun + Deneb)升级"></a>Dencun (Cancun + Deneb)升级</h2><ul>
<li><p>最新的所有核心开发人员 - 执行 (ACDE)视频会议。Tim Beiko的总结。Tim Beiko的记录：</p>
<ul>
<li>Cancun 升级范围最终确定：添加 EIP4788（EVM 信标链区块根），如果测试或者实现没问题的 会加入 EIP5656 （MCOPY），若发现有明显的瓶颈就会取消EIP5656</li>
</ul>
</li>
<li><p>Cancun 将不包括 EIP2537 (BLS)、EIP5920 (PAY) 和 EIP7069（修改后的 CALL 指令）</p>
<ul>
<li>在开发测试网，EIP4844 每个区块 blob 数设置为默认3个，最大6个，未来上主网仍可能会修改。</li>
</ul>
</li>
<li><p>EIP4844 的 Devnet 6（开发测试网） 将于下周发布</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/pm/issues/803">Holešky 测试网</a>（Goerli 的继任） 6 月 15 日首次视频会议，议题是确定 9 月的创世配置和状态（对 Dencun 测试来说可能为时已晚）</li>
</ul>
</li>
<li><p>Consensus-specs <a target="_blank" rel="noopener" href="https://github.com/ethereum/consensus-specs/releases/tag/v1.4.0-alpha.2">v1.4.0-alpha.2</a>：将 EIP4844 的 MAX_BLOBS_PER_BLOCK 增加到 6</p>
</li>
</ul>
<h2 id="Layer-1"><a href="#Layer-1" class="headerlink" title="Layer 1"></a>Layer 1</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/paradigmxyz/flood/#readme">Flood</a>：EVM 的 RPC 端点基准测试</li>
<li>Terence：通过预先计算shuffling<a target="_blank" rel="noopener" href="https://hackmd.io/lWq6jEVhThy72CnAkpTvig">减少 Prysm 验证者的 slot 0 提议时间</a></li>
</ul>
<h2 id="客户端版本"><a href="#客户端版本" class="headerlink" title="客户端版本"></a>客户端版本</h2><ul>
<li>执行层：<ul>
<li>Erigon <a target="_blank" rel="noopener" href="https://github.com/ledgerwatch/erigon/releases/tag/v2.45.0">v2.45.0</a>：Caplin（嵌入式共识层）错误修复，区块体的数据库布局修改</li>
<li>Nethermind <a target="_blank" rel="noopener" href="https://github.com/NethermindEth/nethermind/releases/tag/1.19.2">v1.19.2</a>：支持即将推出的 Teku v23.6</li>
</ul>
</li>
</ul>
<h2 id="给质押者"><a href="#给质押者" class="headerlink" title="给质押者"></a>给质押者</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tbenr/el-sync-driver#readme">执行层同步驱动程序</a>：使用现有的共识层客户端同步新的执行层客户端，无需更改共识层配置</li>
</ul>
<h2 id="研究"><a href="#研究" class="headerlink" title="研究"></a>研究</h2><ul>
<li>提议<a target="_blank" rel="noopener" href="https://ethresear.ch/t/increase-the-max-effective-balance-a-modest-proposal/15801">增加 MAX_EFFECTIVE_BALANCE</a>，允许验证者合并，减轻网络负载</li>
<li><a target="_blank" rel="noopener" href="https://hackmd.io/@jsign/vkt-proofs-implementation-notes">Verkle Tree 证明生成和验证</a>实现优化</li>
</ul>
<h2 id="Layer-2"><a href="#Layer-2" class="headerlink" title="Layer 2"></a>Layer 2</h2><ul>
<li>Optimism <a target="_blank" rel="noopener" href="https://twitter.com/optimismFND/status/1666850591669202965">Bedrock 升级，通过数据压缩和</a><a target="_blank" rel="noopener" href="https://twitter.com/maurelian_/status/1667205092959830016">ETH 原生表示</a>降低 40% 以上的 gas 费用</li>
<li>Arbitrum <a target="_blank" rel="noopener" href="https://twitter.com/ArbitrumDevs/status/1666549893001887744">batch-poster 错误</a>导致在链上发布交易暂停，从用户角度来看没有服务丢失</li>
<li>Arbitrum <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2306.02179">时间影响交易排序</a>经济学分析</li>
</ul>
<h2 id="EIP"><a href="#EIP" class="headerlink" title="EIP"></a>EIP</h2><ul>
<li>ERC：<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7144/files">ERC7144</a>：带有交易验证步骤的ERC20</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7160/files">ERC7160</a> : ERC721 扩展，支持多个元数据</li>
</ul>
</li>
</ul>
<h2 id="开发者资料"><a href="#开发者资料" class="headerlink" title="开发者资料"></a>开发者资料</h2><ul>
<li>Web3 接口库：<ul>
<li>web3.js <a target="_blank" rel="noopener" href="https://blog.chainsafe.io/announcing-the-full-release-of-web3-js-v4-e9e26275a3dc">v4</a>：用 TypeScript 重写，减少构建大小，模块化，可通过插件扩展</li>
<li>viem <a target="_blank" rel="noopener" href="https://twitter.com/wagmi_sh/status/1666189876910501888">v1</a>：包括选择加入批处理 JSON-RPC</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://evm.storage/">evm.storage</a>：查看特定区块中已验证合约的存储和状态，alpha 版本</li>
<li>OpenZeppelin Contracts <a target="_blank" rel="noopener" href="https://github.com/OpenZeppelin/openzeppelin-contracts/releases/tag/v4.9.1">v4.9.1</a>：修复了 Governor 和 GovernorCompatibilityBravo 中的 DoS 漏洞，在该漏洞中，提案创建可能会被抢跑（ frontrunning） 阻止</li>
<li>Foundry：<ul>
<li>Patrick Collins：<a target="_blank" rel="noopener" href="https://github.com/Cyfrin/foundry-full-course-f23#readme">Solidity 开发课程 – Foundry 版</a>，27 小时视频</li>
<li>提示：<a target="_blank" rel="noopener" href="https://twitter.com/drakeevansv1/status/1666468515795140611">使用自定义配置文件调用foundry命令</a></li>
</ul>
</li>
<li>NatSpec<a target="_blank" rel="noopener" href="https://twitter.com/spearbitdao/status/1665800702122250241">最佳实践</a></li>
<li>abi-to-sol <a target="_blank" rel="noopener" href="https://github.com/gnidan/abi-to-sol/releases/tag/v0.8.0">v0.8.0</a>：支持用户定义的值类型</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/big_tech_sux/status/1664856295474712579">Titanoboa</a>（Vyper 解释器）添加允许部署的节点交互</li>
<li>snekmate <a target="_blank" rel="noopener" href="https://github.com/pcaversaccio/snekmate/releases/tag/v0.0.2">v0.0.2</a>（Vyper 合约）：支持 wad_ln 、wad_exp 和 EIP5267</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mds1/evm-diff#readme">EVM 差异</a>：EVM 兼容链的执行层规范差异</li>
<li>Tenderly ：单次运行中<a target="_blank" rel="noopener" href="https://blog.tenderly.co/how-tenderly-enables-most-accurate-ethereum-gas-estimation/">精确的 gas 估算</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/paulmillr/status/1664984693790457858">Noble 密码学更新</a>：标记 npm 源出处（用于透明构建），ed25519 和 ed448 提供不可抵赖性（强约束力的签名）</li>
<li><a target="_blank" rel="noopener" href="https://github.com/martriay/merklefy#readme">Merklefy</a>：用于从 csv 生成默克尔树的web应用</li>
<li>用 Circom 和 Hardhat <a target="_blank" rel="noopener" href="https://betterprogramming.pub/how-to-create-a-zk-smart-contract-cd948a673749">创建第一个零知识合约</a></li>
</ul>
<h2 id="生态系统"><a href="#生态系统" class="headerlink" title="生态系统"></a>生态系统</h2><ul>
<li>EF <a target="_blank" rel="noopener" href="https://esp.ethereum.foundation/run-a-node-grants">运行节点Grant</a>，以鼓励多样化，接收 Dappnode 或 硬件形式的 Grant 。</li>
<li><a target="_blank" rel="noopener" href="https://learnblockchain.cn/article/5966">Vitalik：以太坊要大众采用仍需三个转变</a>：Rollup、合约钱包、隐私</li>
<li>ETH首尔黑客马拉松<a target="_blank" rel="noopener" href="https://ethseoul2023.devfolio.co/projects?show_winners=true">获奖者</a></li>
<li>ETH 贝尔格莱德黑客马拉松<a target="_blank" rel="noopener" href="https://twitter.com/ethbelgrade/status/1667099119351914497">获奖者</a> &amp; <a target="_blank" rel="noopener" href="https://taikai.network/ethbelgrade/hackathons/hackathon-2023/projects">项目列表</a></li>
</ul>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><ul>
<li><a target="_blank" rel="noopener" href="https://twitter.com/MakerDAO/status/1665770361265459202">Maker DAO 通过 Coinbase 部署了 500M DAI</a> ，2.6% 的年回报率</li>
<li>评估 LP 在 AMM 中竞争力的<a target="_blank" rel="noopener" href="https://blog.uniswap.org/metric-evaluate-lp-competitiveness-amm">FLAIR 指标</a></li>
<li><a target="_blank" rel="noopener" href="https://ethresear.ch/t/forkable-stablecoin/15820">可分叉的稳定币设计</a>，用来管理有争议的链分叉</li>
<li>0xSplits <a target="_blank" rel="noopener" href="https://0xsplits.mirror.xyz/eZ1uAL3bIOd75LGcBXQEzOYE51wTHtCjNGsAD70rocg">Swapper</a>：接收到的代币交换成输出代币，可叠加使用，例如创建税收钱包</li>
<li>sudoswap <a target="_blank" rel="noopener" href="https://blog.sudoswap.xyz/introducing-sudoswap-v2.html">v2</a>（NFT 市场）：链上版税、创建者设置、支持 ERC1155 、条件订单和资金流水</li>
<li><a target="_blank" rel="noopener" href="https://launch.mirror.xyz/oyJ1CLHinWc-NqJ5QYpNGgzsbQO5M-813apMWQcZhO0">Usernames.club</a>：UsernameNFT 社区命名空间，所有名称都可以通过CCIP Read 在usr.id 与 ENS 交互，通过 Nouns 拍卖获得</li>
<li><a target="_blank" rel="noopener" href="https://github.com/summa-dev">Summa</a>：中心化交易所(cex)偿付能力解决方案的零知识证明，beta版。</li>
</ul>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/07/09/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-5-27/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/09/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-5-27/" class="post-title-link" itemprop="url">2023-5-27</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-09 00:00:00" itemprop="dateCreated datePublished" datetime="2023-07-09T00:00:00+08:00">2023-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/" itemprop="url" rel="index">
                    <span itemprop="name">每周以太坊进展</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Dencun-Cancun-Deneb-升级"><a href="#Dencun-Cancun-Deneb-升级" class="headerlink" title="Dencun (Cancun + Deneb)升级"></a>Dencun (Cancun + Deneb)升级</h2><ul>
<li><p>最新的所有核心开发人员 - 执行 (ACDE)视频会议。Tim Beiko的总结。Tim Beiko和Christine Kim的记录：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1HDbym5YOoYj63xswMAwvt5Psh4JaI0biY06b6ZvYV2s/edit">SELFDESTRUCT 弃用的影响分析</a>：EIP6780（SELFDESTRUCT 将仅在与部署合约同一笔交易中有用）影响较小，将包含在 Cancun 升级中；EIP6913 SETCODE 暂时不包含在 Cancun 升级中</li>
<li>EIP4844 讨论：excess_data_gas，使用 big endian 进行预编译，删除 SSZ EIP，起草测试网 Devnet #6 规范（Dencun devnet之前的最后一个 EIP4844 特定devnet）</li>
<li>提议将 Cancun 和 Prague 操作码排序添加到执行层规范中</li>
<li>Cancun 的最终候选EIP ：EIP4788（EVM 中的添加信标区块根）、EIP2537（BLS 预编译）、EIP5656（MCOPY 操作码）、EIP5920（PAY 操作码）和 EIP7069（改进的 CALL 指令）；Cancun 不再考虑新 EIP</li>
</ul>
</li>
<li><p>共识规范<a target="_blank" rel="noopener" href="https://github.com/ethereum/consensus-specs/releases/tag/v1.4.0-alpha.0">v1.4.0-alpha.0</a>：Deneb 更新和 attnets 改造</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ceremony.ethereum.org/">KZG 仪式</a>接近 10 贡献者，现在拥有<a target="_blank" rel="noopener" href="https://twitter.com/carlbeek/status/1661795909875924992">16 笔主网交易的账户</a>可用</p>
</li>
</ul>
<h2 id="Layer-1"><a href="#Layer-1" class="headerlink" title="Layer 1"></a>Layer 1</h2><ul>
<li>Ben Edgington：《以太坊升级电子书》添加新章节: <a target="_blank" rel="noopener" href="https://eth2book.info/capella/part2/deposits-withdrawals/">存款和取款</a></li>
<li>Geth 团队：<a target="_blank" rel="noopener" href="https://gist.github.com/holiman/4f6601018a8f559d7ce4cfe4e861cf73">如果绝大多数 EL 客户端出现错误会怎样</a>？</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/gballet/status/1662046913259085824">Verkle 覆盖树转换方法</a>实现</li>
</ul>
<h2 id="客户端版本"><a href="#客户端版本" class="headerlink" title="客户端版本"></a>客户端版本</h2><ul>
<li>共识层：<ul>
<li>Lighthouse <a target="_blank" rel="noopener" href="https://github.com/sigp/lighthouse/releases/tag/v4.2.0">v4.2.0</a>：验证器客户端更快地检测和避免执行层信标节点与离线执行层一起工作。</li>
<li>Prysm <a target="_blank" rel="noopener" href="https://github.com/prysmaticlabs/prysm/releases/tag/v4.0.5">v4.0.5</a>：改进了见证聚合</li>
</ul>
</li>
<li>执行层：<ul>
<li>Geth <a target="_blank" rel="noopener" href="https://github.com/ethereum/go-ethereum/releases/tag/v1.12.0">v1.12.0</a>：移除 PoW，GraphQL 数值编码为十六进制字符串</li>
<li>Nethermind <a target="_blank" rel="noopener" href="https://github.com/NethermindEth/nethermind/releases/tag/1.18.2">v1.18.2</a>：同步过程加速</li>
</ul>
</li>
</ul>
<h2 id="给质押者"><a href="#给质押者" class="headerlink" title="给质押者"></a>给质押者</h2><ul>
<li>Eth-wizard <a target="_blank" rel="noopener" href="https://github.com/stake-house/eth-wizard/releases/tag/v0.9.7">v0.9.7</a>：验证者在 Ubuntu&#x2F;Windows 上使用 MEV-Boost</li>
</ul>
<h2 id="研究"><a href="#研究" class="headerlink" title="研究"></a>研究</h2><ul>
<li><a target="_blank" rel="noopener" href="https://ethresear.ch/t/why-enshrine-proposer-builder-separation-a-viable-path-to-epbs/15710">实现 Proposer-Builder 分离的路径</a>：通过 Two-Block （两个 slot ）HeadLock 自上而下实现，通过 optimistic relay 自下而上实现</li>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2305.09032">计时博弈</a>：为了优化 MEV 捕获，提案者可能会延迟区块提案，但仍确保提案及时包含进去。</li>
</ul>
<h2 id="Layer-2"><a href="#Layer-2" class="headerlink" title="Layer 2"></a>Layer 2</h2><ul>
<li><a target="_blank" rel="noopener" href="https://figmentcapital.medium.com/distributed-sequencer-technology-a-path-to-decentralized-sequencing-549662cc9912">去中心化定序技术</a>：使用分布式验证器技术对 L2 定序器进行渐进式去中心化的提议</li>
<li>Layer N <a target="_blank" rel="noopener" href="https://www.layern.com/blog/zkfp">零知识欺诈证明</a>：混合方法只需要在存在欺诈可能性时生成证明</li>
</ul>
<h2 id="EIP"><a href="#EIP" class="headerlink" title="EIP"></a>EIP</h2><ul>
<li>EIP：<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7069/files">EIP7069</a>：改进的 CALL 指令</li>
</ul>
</li>
<li>ERC：<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7050/files">ERC7050</a>：标记 NFT 创作者</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7053/files">ERC7053</a>：可互操作的数字媒体索引</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7066/files">ERC7066</a> : ERC721 可锁定</li>
</ul>
</li>
</ul>
<h2 id="开发者资料"><a href="#开发者资料" class="headerlink" title="开发者资料"></a>开发者资料</h2><ul>
<li>OpenZeppelin Contracts <a target="_blank" rel="noopener" href="https://blog.openzeppelin.com/introducing-openzeppelin-contracts-v4.9">v4.9.0</a>：为 Optimism 、 Base 带来有时间戳支持的治理，针对 ERC-4626 通膨攻击提供保护，改进了默认AccessControl 以更好地处理默认管理员角色，兼容 EIP5267， 使用eip712Domain()增强了 Web3 应用程序中签名的互操作性。</li>
<li><a target="_blank" rel="noopener" href="https://learnblockchain.cn/article/5879">Solc 合约元数据</a>解释：IPFS哈希值和solidity编译器版本</li>
<li>Foundry：<ul>
<li>Foundry <a target="_blank" rel="noopener" href="https://twitter.com/hievalir/status/1662171773973204993">pre v1 更新亮点</a></li>
<li>Forge-std <a target="_blank" rel="noopener" href="https://github.com/foundry-rs/forge-std/releases/tag/v1.5.6">v1.5.6</a>：新作弊码和纯控制台日志</li>
<li>提示：<a target="_blank" rel="noopener" href="https://twitter.com/paulrberg/status/1660598958454865926">控制台日志记录支持格式说明符，</a>例如 %s 和 %d</li>
</ul>
</li>
<li>abi-to-sol <a target="_blank" rel="noopener" href="https://github.com/gnidan/abi-to-sol/releases/tag/v0.7.0">v0.7</a>：生成可嵌入的输出（例如，无 pragma，无license identifier）</li>
<li>使用模糊测试<a target="_blank" rel="noopener" href="https://dacian.me/exploiting-precision-loss-via-fuzz-testing">查找精度损失漏洞</a>的指南</li>
<li><a target="_blank" rel="noopener" href="https://github.com/a16z/cicada#readme">Cicada</a>：使用同态时间锁难题的隐私链上投票</li>
<li>Vyper <a target="_blank" rel="noopener" href="https://github.com/vyperlang/vyper/releases/tag/v0.3.8">v0.3.8</a>：瞬态存储关键字、三元运算符、内置 raw_revert 函数、移位运算符、可配置的 send() gas 和使用 PUSH0</li>
<li>Ape <a target="_blank" rel="noopener" href="https://github.com/ApeWorX/ape/releases/tag/v0.6.9">v0.6.9</a>：通过 Pytest fixtures、Python v3.11 支持和 use_network 标记更容易测试</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/uniswap/status/1661362297632088066">Uniswap</a>在 Sepolia 测试网上上线</li>
<li><a target="_blank" rel="noopener" href="https://github.com/v3xlabs/enstate#readme">enstate.rs</a>：在 Rust 中使用缓存同时进行 ENS 查询</li>
<li><a target="_blank" rel="noopener" href="https://github.com/morpho-labs/safer#readme">Safer</a>：使用 Foundry 脚本将交易签署并提交到的 <a target="_blank" rel="noopener" href="https://app.safe.global/welcome">Safe</a> 多重签名</li>
<li>Curta CTF <a target="_blank" rel="noopener" href="https://twitter.com/popular_12345/status/1662174518696366080">Baby it’s me 解决方案</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/SpearbitDAO/status/1661786772072804361">代码规范概述</a>：关注简单的英语、状态机、图表、接口、占位符测试和可选的形式化定义</li>
<li>Echidna <a target="_blank" rel="noopener" href="https://github.com/crytic/echidna/releases/tag/v2.2.0">v2.2.0</a>：多核模糊测试，优化覆盖收集，模糊测试速度提高 20 倍</li>
</ul>
<h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><ul>
<li>Tornado Cash治理被攻击者使用 SELFDESTRUCT + CREATE2<a target="_blank" rel="noopener" href="https://github.com/coinspect/learn-evm-attacks/tree/master/test/Business_Logic/TornadoCash_Governance">捕获</a></li>
</ul>
<h2 id="生态"><a href="#生态" class="headerlink" title="生态"></a>生态</h2><ul>
<li>Vitalik： <a target="_blank" rel="noopener" href="https://vitalik.ca/general/2023/05/21/dont_overload.html">过载以太坊社会共识是高风险的</a>，应用开发者和二层网络需要找到替代方案来实现他们的安全目标，不会有救助。</li>
<li>Nick Fett: <a target="_blank" rel="noopener" href="https://medium.com/@nfett/eigenlayer-crypto-rehypothecation-and-the-infinite-trust-machine4e8164845b59">restaking 被过度炒作</a></li>
<li>Optimism 的<a target="_blank" rel="noopener" href="https://optimism.mirror.xyz/7v1DehEY3dpRcYFhqWrVNc9Qj94H2L976LKlWH1FX-8">RetroPGF第二轮学到的东西</a></li>
<li>ETHDam <a target="_blank" rel="noopener" href="https://taikai.network/cryptocanal/hackathons/ethdam/projects?filter_by=finalists">黑客马拉松项目</a></li>
<li>ETHGlobal <a target="_blank" rel="noopener" href="https://twitter.com/ethglobal/status/1662142905048350724">匿名世界黑客马拉松决赛选手</a></li>
</ul>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><ul>
<li>Maker 投票将<a target="_blank" rel="noopener" href="https://forum.makerdao.com/t/stability-scope-parameter-changes-2-non-scope-defined-parameter-changes-may-2023/20981">DSR 提高到 3.33%</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/block-analitica/introducing-project-levon-e1444bd888d1">Levon</a>：获得 Maker 金库的信用评分，测试版</li>
<li>Kain：<a target="_blank" rel="noopener" href="https://mirror.xyz/kain.eth/EB9DQldVEb0F74-LmrVau6YbjEtr8dsj1qVn6muYuXw">Synthetix 的状态</a></li>
<li><a target="_blank" rel="noopener" href="https://mirror.xyz/0x01393d9b6dFFce134b6765e9bdd626b258357C37/7tghsnpqiCRKxS-5xbwPC7CPs2drbxWCR4GEZFhNWBY">TAI</a>（受控锚定稳定币）在主网上线</li>
<li><a target="_blank" rel="noopener" href="https://astaria.xyz/">Astaria</a>（NFT 支持的借贷）在主网上线，测试版</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/safe/status/1660677975669633024">Safe multisig</a> 支持 ERC1271 消息签名（用于 OpenSea 签名）</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/utopialabs_/status/1661784971676381185">Utopia</a>：安全的多重签名无gas交换，测试版</li>
<li><a target="_blank" rel="noopener" href="https://github.com/lcfr-eth/FlashbotsBundlerUI#readme">Flashbots Bundler</a>：用于从受感染地址中拯救代币</li>
</ul>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/07/06/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-10-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/06/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/2023-10-7/" class="post-title-link" itemprop="url">2023-10-7</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-06 00:00:00" itemprop="dateCreated datePublished" datetime="2023-07-06T00:00:00+08:00">2023-07-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%8F%E5%91%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E8%BF%9B%E5%B1%95/" itemprop="url" rel="index">
                    <span itemprop="name">每周以太坊进展</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Dencun（Cancun-Deneb）升级"><a href="#Dencun（Cancun-Deneb）升级" class="headerlink" title="Dencun（Cancun + Deneb）升级"></a>Dencun（Cancun + Deneb）升级</h2><ul>
<li><p>最新的所有核心开发人员 - 执行 (ACDE)视频会议。Christine Kim的记录：</p>
<ul>
<li>Devnet-9：测试<a target="_blank" rel="noopener" href="https://twitter.com/M25Marek/status/1709972302907978192">发现了一些错误</a>，MEV-Boost 测试已开始（网络上约 20% 验证者在运行 MEV-Boost 软件）</li>
</ul>
</li>
<li><p>Devnet-10：在 devnet-9 上没有问题后启动，短暂存在，包含 KZG 仪式的最终输出</p>
<ul>
<li>Goerli 测试网升级时间：现在确定日期还为时过早</li>
</ul>
</li>
<li><p>Dencun 互操作性测试<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=o1ET9AuEK9c&t=63s">视频会议</a></p>
</li>
</ul>
<h2 id="中心化观察：威胁你-ETH-价值"><a href="#中心化观察：威胁你-ETH-价值" class="headerlink" title="中心化观察：威胁你 ETH 价值"></a>中心化观察：威胁你 ETH 价值</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://dune.com/hildobby/eth2-staking"><strong>Lido 占比 32.13%</strong></a> <strong>已略有减少，但仍然非常接近</strong><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Y0ddkSa1ZuI&t=1050s"><strong>阀值 33.3%</strong></a></p>
</li>
<li><p>客户端多样性（通过clientdiversity.org）：</p>
<ul>
<li>执行层：Geth 约占 80% ，超级多数派，可能导致链分叉</li>
<li>共识层：Prysm 占 45%，任何客户端错误超过 33.3% 都可能导致活力丧失</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://nodewatch.io/">需要更多质押者和节点的地理多样性</a>，尤其是美国&#x2F;加拿大&#x2F;欧盟之外的其他地方</p>
</li>
</ul>
<h2 id="Layer-1"><a href="#Layer-1" class="headerlink" title="Layer 1"></a>Layer 1</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/rainshowerLabs/blutgang#readme">Blutgang</a>：RPC 负载均衡器和缓存，用 Rust 编写</li>
<li>Revm <a target="_blank" rel="noopener" href="https://github.com/bluealloy/revm/releases/tag/v26">v3.5.0</a>：过渡到 Alloy 类型</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/gakonst/status/1709278476103283172">Geth 和 Reth</a>允许同步历史哈希</li>
<li>Besu（执行层客户端）<a target="_blank" rel="noopener" href="https://consensys.io/blog/bonsai-tries-guide">Bonsai Tries</a> 存储解释</li>
<li>Verkle 实施者<a target="_blank" rel="noopener" href="https://twitter.com/rudolf6_/status/1709672165573058673">视频会议记录</a></li>
</ul>
<h2 id="给质押者"><a href="#给质押者" class="headerlink" title="给质押者"></a>给质押者</h2><ul>
<li>Stakesaurus：<a target="_blank" rel="noopener" href="https://stakesaurus.gitbook.io/eth-full-home-staking-setup-guide">家庭质押指南</a>，面向新手</li>
</ul>
<h2 id="客户端版本"><a href="#客户端版本" class="headerlink" title="客户端版本"></a>客户端版本</h2><ul>
<li>执行层：<ul>
<li>Erigon <a target="_blank" rel="noopener" href="https://github.com/ledgerwatch/erigon/releases/tag/v2.51.0">v2.51.0</a>：修复一些错误</li>
</ul>
</li>
</ul>
<h2 id="Layer-2"><a href="#Layer-2" class="headerlink" title="Layer 2"></a>Layer 2</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.oplabs.co/op-stack-fault-proof-alpha/">OP Stack 欺诈证明系统</a> 在 OP Goerli 测试网上运行，alpha</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/metisdao/status/1709965430591463763">Metis</a>（optimistic Rollup）回滚到在主网上存储交易数据</li>
<li><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2310.01155">EIP4844 经济学</a>：发布 blobs 和 blocks 的 Rollup 成本模型</li>
</ul>
<h2 id="EIP"><a href="#EIP" class="headerlink" title="EIP"></a>EIP</h2><ul>
<li>EIP<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7809/files">EIP7530</a>：EVM 配置文件用于 zk rollup</li>
</ul>
</li>
<li>ERC（应用层）：<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7797/files">ERC7527</a>：基于内置函数 Oracle AMM 的标准接口系统</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7808/files">ERC7528</a>：ETH（原生资产）地址约定（0xe）</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7815/files">ERC7529</a>：利用 TXT 记录发现、验证智能合约并将其与 DNS 域名所有者关联的简单方法。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/7817/files">ERC7531</a>：质押的 ERC721 所有权认证</li>
</ul>
</li>
</ul>
<h2 id="开发者资料"><a href="#开发者资料" class="headerlink" title="开发者资料"></a>开发者资料</h2><ul>
<li>OpenZeppelin Contracts <a target="_blank" rel="noopener" href="https://blog.openzeppelin.com/introducing-openzeppelin-contracts-5.0">v5</a>：<ul>
<li>添加 AccessManager、GovernorStorage、ERC2771Forwarder、ERC1967Utils、Nonces、MessageHashUtils 和 Time</li>
<li>删除：Address.isContract、Counters、ERC777、SafeMath、TokenTimelock、托管（escrow）合约和所有预设（presets）</li>
<li>使用自定义错误、显式导入， Solidity 编译器最低版本为 v0.8.20</li>
</ul>
</li>
<li>Hardhat <a target="_blank" rel="noopener" href="https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.18.0">v2.18.0</a>：添加对作用域任务的支持</li>
<li>Foundry：<ul>
<li>Forge-std <a target="_blank" rel="noopener" href="https://github.com/foundry-rs/forge-std/releases/tag/v1.7.0">v1.7.0</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/foundry-rs/forge-std/releases/tag/v1.7.1">v1.7.1</a>：添加 serializeJson cheat code、unixTime，将 parseJsonKeys 标记为 pure 并将 exit_code 重命名为 exitCode</li>
<li>Vulcan <a target="_blank" rel="noopener" href="https://twitter.com/nomoixyz/status/1708965012511801575">v0.4.0</a>：添加 unwrap 以获取结果值，使用 expect 设置自定义回滚消息，使用 isOk 和 isError 改进错误处理和与外部 HTTP 服务器的交互</li>
<li><a target="_blank" rel="noopener" href="https://github.com/g-01234/scope#readme">Scope</a>（VS Code 扩展）：Remix-like 和一些 Foundry 功能的可视化封装，alpha 版</li>
</ul>
</li>
<li>Huff：<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/horsefacts/huff-test#readme">Huff-test</a>：用于纯 Huff 测试断言的宏</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Philogy/py-huff#readme">Py-huff</a>：用 Python 实现的 Huff 编译器</li>
<li><a target="_blank" rel="noopener" href="https://github.com/AmadiMichael/Zyclone#readme">Zyclone</a>：Huff 实现的混币器（类似于 Tornado Cash），gas优化，存款成本降低约 5 倍</li>
</ul>
</li>
<li>Vyper <a target="_blank" rel="noopener" href="https://github.com/vyperlang/vyper/releases/tag/v0.3.10">v0.3.10</a>：添加 codesize 优化模式，pragma 指令，在生成的代码中使用 MCOPY，并生成具有 O(1)性能的选择器表</li>
<li>CTFs：<ul>
<li>Secureum RACE #22：<a target="_blank" rel="noopener" href="https://ventral.digital/posts/2023/10/3/race-22-of-the-secureum-bootcamp-epoch-infinity">8 个问题的 Solidity 谜题和答案</a> 由 Tincho 提供</li>
</ul>
</li>
</ul>
<h2 id="生态"><a href="#生态" class="headerlink" title="生态"></a><strong>生态</strong></h2><ul>
<li>Vitalik 关于<a target="_blank" rel="noopener" href="https://vitalik.eth.limo/general/2023/09/30/enshrinement.html">什么样特性应该在协议中加入和移除</a>：分析了账户抽象、zk-EVM、提议者-构建者分离、私有交易池、流动性质押和预编译</li>
<li><a target="_blank" rel="noopener" href="https://ethereumwriterscohort.carrd.co/">Ethereum.org 撰稿人第二组</a> 10 月 20 日开始</li>
<li>Etherscan <a target="_blank" rel="noopener" href="https://twitter.com/etherscan/status/1709917362613633489">事件日志高级过滤器</a></li>
</ul>
<h2 id="链上统计"><a href="#链上统计" class="headerlink" title="链上统计"></a><strong>链上统计</strong></h2><ul>
<li>Gas 费用（通过 ultrasound.money）：4.7 至 93.7 gwei，平均为 9.9 gwei<ul>
<li>目前通缩 gas 为 21.2 gwei</li>
<li>本周净新发行量为 8.6k ETH</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.coingecko.com/en/coins/ethereum">ETHUSD</a>：1,611–1,611–1,736，当前为 $1646</li>
<li><a target="_blank" rel="noopener" href="https://ratiogang.com/">ETHBTC</a>：当前为 0.059（Flippening 在约 0.16）</li>
</ul>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><ul>
<li>正在关闭：<a target="_blank" rel="noopener" href="https://yield-protocol.medium.com/winding-down-yield-protocol-0974b38066cc">Yield Protocol</a>和<a target="_blank" rel="noopener" href="https://utopia.beehiiv.com/p/winding-down">Utopia 产品</a>。</li>
<li>NFT 无代码创建：<ul>
<li><a target="_blank" rel="noopener" href="https://opensea.io/blog/articles/introducing-opensea-studio">OpenSea Studio</a>（10%的铸造费用）。</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/mintdotfun/status/1709252670274630114">mint.fun 创建</a>（0.0002 ETH 的铸造费用）。</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/ourZORA/status/1709599808334499988">Zora</a>（在 Zora Network 上免费创建，0.000111 ETH 的铸造费用）。</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/RAC/status/1709629083578220615">RAC 的 Deadline NFT</a>在 Base 上上线，可以从主网或 Layer 2 购买[Andrew minted]。</li>
<li>Friend Tech 在 SIM 卡交换攻击后<a target="_blank" rel="noopener" href="https://twitter.com/friendtech/status/1709661643028976110">添加&#x2F;删除登录方式</a>。</li>
<li>Nature：<a target="_blank" rel="noopener" href="https://www.nature.com/articles/s41587-023-02005-1">科学社区 DAO</a>和替代性研究资金。</li>
</ul>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/07/02/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%9F%A5%E8%AF%86%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/02/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E7%9F%A5%E8%AF%86%E7%82%B9/" class="post-title-link" itemprop="url">mysql知识点</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-02 00:00:00" itemprop="dateCreated datePublished" datetime="2023-07-02T00:00:00+08:00">2023-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="MySQL-关系型数据库"><a href="#MySQL-关系型数据库" class="headerlink" title="MySQL(关系型数据库)"></a>MySQL(关系型数据库)</h1><p>MySQL是目前最流行的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/696511">关系型数据库管理系统</a>之一，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，增加了速度并提高了灵活性，MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。</p>
<h2 id="SQL语句分类："><a href="#SQL语句分类：" class="headerlink" title="SQL语句分类："></a>SQL语句分类：</h2><ul>
<li>DQL（数据查询语言）: 查询语句，凡是select语句都是DQL。</li>
<li>DDL（数据定义语言）：create drop alter，对表结构的增删改。</li>
<li>DML（数据操作语言）：insert delete update，对表当中的数据进行增删改。</li>
<li>TCL（事务控制语言）：commit提交事务，rollback回滚事务。</li>
<li>DCL（数据控制语言）: grant授权、revoke撤销权限等。</li>
</ul>
<p>基本语句：</p>
<ul>
<li>查看有哪些数据库：show databases;</li>
<li>查看当前使用的数据库中有哪些表：show tables;</li>
<li>查看表结构：desc 表名;</li>
</ul>
<h2 id="DQL（数据查询语言）"><a href="#DQL（数据查询语言）" class="headerlink" title="DQL（数据查询语言）"></a>DQL（数据查询语言）</h2><p>select 字段名1 （’as‘） 别名,字段名2,字段名3,…. from 表名 where 条件;</p>
<p>——需要起别名时as可以省略</p>
<p>条件分类：等于大于小于、空值（is null）、和（and）、或者（or）、范围（bteween … and …）、集合（in）、模糊查询（like，%代表任意多个字符，_代表任意1个字符）、排序（order by 字段值 desc; 默认是升序，asc表示升序，desc表示降序）</p>
<p><strong>分组函数</strong>：count 计数、sum 求和、avg 平均值、max 最大值、min 最小值</p>
<p>例：查询某字段的数据总数量 ”select count (字段名) from 表名;“</p>
<p>注意：分组函数不可直接使用在where子句当中，因为分组函数是在where执行之后执行</p>
<p>注意：count（*）：统计总记录条数</p>
<p>​			count（字段值）：统计字段中不为NULL的数据总数量</p>
<p><strong>group by 和 having</strong>：</p>
<p>group by ： 按照某个字段或者某些字段进行分组。<br>having : having是对分组之后的数据进行再次过滤。</p>
<p>例：找出每个部门的平均薪资，要求显示薪资大于5000的数据</p>
<p>​		select deptno,avg(sal) from emp group by deptno having avg(sal) &gt; 5000;	</p>
<p>**distinct:**关键字，只能出现在字段最前面，去重。</p>
<p><strong>执行顺序：</strong>select(5)  …   from(1)   …   where(2)	…   group by(3)   …   having(4)	…   order by(6)	…</p>
<h3 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h3><p>——在表的连接查询中有一个笛卡尔积现象，就是查询条件没有要求时，查询出来的记录数量是两张表记录数量的乘积。</p>
<p><strong>分类</strong>：内连接：两张表是平等的，满足两张表之间条件的所有记录才能查询出来</p>
<p>​			外连接：两张表有主次之分，主表的数据需要全部查询出来，当副表中的数据没有与主表相匹配，副表会将数据转化为Null与主表匹配</p>
<p>​			自连接：自连接是一种特殊的内连接，它是指互相连接的两张表在物理上为同一张表，但在逻辑上可以分为两张表</p>
<p>例子：</p>
<p>内连接：查询每个员工的部门名称，显示员工名和部门名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	e.ename,d.dname</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	emp e</span><br><span class="line"><span class="keyword">join</span></span><br><span class="line">	dept d</span><br><span class="line"><span class="keyword">on</span></span><br><span class="line">	e.deptno <span class="operator">=</span> d.deptno;</span><br></pre></td></tr></table></figure>

<p>外连接：查询员工的领导,显示员工名和领导名（右连接，即就算有些员工的bossno在领导表中不存在也显示出来，领导字段为null）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">	a.ename <span class="string">&#x27;员工&#x27;</span>, b.ename <span class="string">&#x27;领导&#x27;</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">	boss b</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span></span><br><span class="line">	emp a</span><br><span class="line"><span class="keyword">on</span></span><br><span class="line">	a.bossno <span class="operator">=</span> b.empno;</span><br></pre></td></tr></table></figure>

<h3 id="子查询：select语句中嵌套select语句"><a href="#子查询：select语句中嵌套select语句" class="headerlink" title="子查询：select语句中嵌套select语句"></a>子查询：select语句中嵌套select语句</h3><p>前面说过分组函数不可直接使用在where子句当中，此时就需要用到子查询</p>
<p>例：查询工资大于平均工资的员工</p>
<p>​		select * from emp where sal &gt; (select avg(sal) from emp)</p>
<h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p>取出查询数据中的部分数据(limit是mysql特有的，其他数据库中没有，不通用)，重点用于分页查询</p>
<p>例：取出工资前5名的员工<br>        select ename,sal from emp order by sal desc limit 0, 5;</p>
<p>注意：limit是sql语句最后执行的的一个步骤</p>
<h2 id="DDL（数据定义语言）"><a href="#DDL（数据定义语言）" class="headerlink" title="DDL（数据定义语言）"></a>DDL（数据定义语言）</h2><p>新建表的语句：</p>
<p>create table 表名(<br>            字段名1 数据类型,<br>            字段名2 数据类型,<br>            字段名3 数据类型,<br>            ….<br>);</p>
<p>MySQL当中常见的字段的数据类型,( )中的类型相当于在Java中的类型：<br>    int			 整数型(int)<br>    bigint	   长整型(long)<br>    float		 浮点型(float double)<br>    char		 定长字符串(String)<br>    varchar	可变长字符串(StringBuffer&#x2F;StringBuilder)<br>    date		 日期类型 (java.sql.Date)<br>    BLOB		Binary Large OBject (Object)，二进制大对象，存储图片、视频等流媒体信<br>    CLOB		Character Large OBject(Object),字符大对象,存储较大文本，比如，可以存储4G的字符串</p>
<p>——<strong>char和varchar的区别：</strong>当某个字段中的数据长度不发生改变的时候，是定长的，例如：性别、生日等都是采用char；当一个字段的数据长度不确定，例如：姓名、地址等都是采用varchar。</p>
<p><strong>添加列：</strong>ALTER TABLE 表名 ADD 列名 数据类型;</p>
<p><strong>修改表的列名</strong>：ALTER TABLE 表名CHANGE 原列名 新列名 数据类型(xx);</p>
<p><strong>修改数据字段类型：</strong>ALTER TABLE 表名 MODIFY 列名 数据类型(xx);</p>
<p><strong>删除一列：</strong>ALTER TABLE 表名 DROP 列名;</p>
<p><strong>删除表：</strong>DROP TABLE 表名;</p>
<h2 id="约束（-）"><a href="#约束（-）" class="headerlink" title="约束（*）"></a>约束（*）</h2><p>在创建表的时候，可以给表的字段添加不同的约束，填写在字段名后面，添加约束可以保证表中数据的合法性、有效性、完整性。</p>
<p>常见的约束：</p>
<ul>
<li>非空约束(not null)：约束的字段不能为NULL</li>
<li>唯一约束(unique)：约束的字段不能重复</li>
<li>主键约束(primary key)：约束的字段既不能为NULL，也不能重复</li>
<li>外键约束(foreign key)</li>
</ul>
<p>——（primary key auto_increment）：主键自增，从1开始，以1递增。</p>
<p>示例：创建一张id为主键并且自增的用户表</p>
<p>​			create table t_user(<br>​         		 id int primary key auto_increment,<br>​	  			username varchar(255)<br>​       	 );</p>
<p>注意：一张表只能有一个主键</p>
<h2 id="DML（数据操作语言）"><a href="#DML（数据操作语言）" class="headerlink" title="DML（数据操作语言）"></a>DML（数据操作语言）</h2><p>insert语句插入数据</p>
<p>​	语法格式：</p>
<p>​		insert into 表名(字段名1,字段名2,字段名3,….) values(值1,值2,值3,….)</p>
<p>​		要求：字段的数量和值的数量相同，并且数据类型要对应相同。</p>
<p>注意：当一条insert语句执行成功之后，表格当中必然会多一行记录。即使多的这一行记录当中某些字段是NULL，后期也没有办法在执行insert语句插入数据了，只能使用update进行更新</p>
<p>update 表名 set 字段名1&#x3D;值1,字段名2&#x3D;值2… where 条件;</p>
<p>delete from 表名 where 条件;</p>
<h2 id="TCL（事务控制语言）"><a href="#TCL（事务控制语言）" class="headerlink" title="TCL（事务控制语言）"></a>TCL（事务控制语言）</h2><p><strong>事务</strong>：一个完整的业务逻辑单元，不可再分，比如：银行账户，从A账户向B账户转账100元，需要执行两条update语句，A账户-100，B账户+100。 以上两t条	DML语句必须同时成功，或者同时失败，不允许出现一条成功，一条失败.想要保证以上的两条DML语句同时成功或者同时失败，那么就要使用数据库的”事务机制”。</p>
<p> 事务包括四大特性（ACID）：</p>
<ul>
<li>原子性：事务是最小的工作单元，不可再分。</li>
<li>一致性：必须保证多条DML语句同时成功或者同时失败。</li>
<li>隔离性：事务A与事务B之间具有隔离。</li>
<li>持久性：最后数据应该持久化到硬盘中，事务才能结束。</li>
</ul>
<p> 事务隔离性存在隔离级别，理论上隔离级别包括4个：</p>
<p>​       第一级别：读未提交(read uncommitted)<br>​	       对方事务还没有提交，我们当前事务可以读取到对方未提交的数据。<br>​	       读未提交存在脏读现象：表示读到了脏数据（读到未提交的数据）。<br>​	   第二级别：读已提交(read committed)<br>​	       对方事务提交之后的数据我方可以读取到。<br>​	       读已提交存在的问题是：不可重复读（在多次读取范围内读到数据不一致）。<br>​	   第三级别：可重复读(repeatable read)<br>​	       这种隔离级别解决了：不可重复读问题。<br>​	       这种隔离级别存在的问题是：读取到的数据是幻读（在多次操作读取范围内发现数据不一致问题）。<br>​	   第四级别：序列化读&#x2F;串行化读<br>​	       解决了所有问题。<br>​	       效率低，需要事务排队。</p>
<p>查看隔离级别：select @@tx_isolation;</p>
<p>设置隔离级别：set session|global transaction isolation level 隔离级别;</p>
<p>示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 关闭事务自动提交</span></span><br><span class="line"><span class="keyword">set</span> autocommit<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 开启事务 </span></span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> bal <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="number">100</span> <span class="keyword">where</span> balno <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> bal <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">+</span> <span class="number">100</span> <span class="keyword">where</span> balno <span class="operator">=</span> <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 提交事务 </span></span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事务回滚</span></span><br><span class="line"><span class="keyword">rollback</span>;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/07/02/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/13-%E6%80%9D%E8%80%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/02/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/13-%E6%80%9D%E8%80%83/" class="post-title-link" itemprop="url">13-思考</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-07-02 00:00:00" itemprop="dateCreated datePublished" datetime="2023-07-02T00:00:00+08:00">2023-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="哈希指针"><a href="#哈希指针" class="headerlink" title="哈希指针"></a>哈希指针</h2><p>只是系统中一种形象化的方法。实际应用时候，只有哈希而没有指针</p>
<h2 id="区块“恋”"><a href="#区块“恋”" class="headerlink" title="区块“恋”"></a>区块“恋”</h2><p>有情侣一起买BTC，将私钥从中截断，每人保留其中一部分。如果未来两人依旧感情很好，就可以将钱取出；如果分手，这部分钱就会永久锁死，谁也无法取出，通过区块链的不可篡改性作为两人的爱情见证。这样做有什么问题？<br>如此下来，N个人怎么办？<br>如果按照这种方法，将私钥分为N份。但这样会有一系列问题：</p>
<p>一. 如果N个人中任意一个人忘记私钥，则无法将钱取出</p>
<p>二.截断私钥长度，会降低安全性，因为私钥长度会直接影响破解难度(2^256远远大于2^128)，之间难度差距远远不止一倍。可见，对于多个人账户，应该使用多重签名，而非截断私钥的方法</p>
<p>三.如果分手，该钱变成死钱，一直保存在UTXO集合中，对矿工不友好。</p>
<h2 id="分布式共识"><a href="#分布式共识" class="headerlink" title="分布式共识"></a>分布式共识</h2><p>理论上来说，分布式系统不可能达成共识。但实际中为何变成可能了？</p>
<p>严格来说，BTC系统共识随时可能被推翻，例如分叉攻击导致系统回滚。</p>
<p>此外，理论和实际存在差异。不可能结论针对特定模型，实际中对模型稍微修改或添加线下方法即可将不可能变为可能。</p>
<h2 id="BTC的稀缺性"><a href="#BTC的稀缺性" class="headerlink" title="BTC的稀缺性"></a>BTC的稀缺性</h2><p>为什么要挖矿？因为有收益，且收益大于开销。早期BTC难度低且出块奖励高，从而吸引矿工。<br>之前有提到，BTC总量固定，有人认为其是一个精妙的设计。但实际上，总量固定的东西并不适合作为货币，这也就决定了BTC并不能在未来完全颠覆现有货币体系。以太坊中便没有BTC中出块奖励定期减半的做法，此外，某些新型货币会自带通货膨胀的功能。<br>对个人来说，通货膨胀并非好事，因为钱不值钱了。但人类每年创造的价值，如果用总量固定的东西作为货币，则其只会越来越值钱，而这会导致拥有者不断看着其升值，其他没有的人无论如何奋斗都赶不上（房市也是如此，炒房使一部分人靠房租便可大赚特赚，个人奋斗却很难买房。这也是我国目前存在的较大的问题，社会财富的分配不公，最终引发各种社会矛盾，需要政府解决）。</p>
<h2 id="量子计算"><a href="#量子计算" class="headerlink" title="量子计算"></a>量子计算</h2><p>会不会BTC这种建立在密码学上的加密货币，在量子计算出来后会不会变得不安全。<br>一. 量子计算距离使用仍然有很长距离（人工智能也是，目前仍然处于弱人工智能阶段。其实很多技术都是如此，炒的情况很严重，但距离实用很远。但是不炒便不会有资本流入进行研究，这也是一个非常相悖的地方）。<br>二. 量子计算若真正使用到破坏现有加密算法，对传统金融业的破坏仍然是最大的。<br>三. 实际中使用的并非公钥，而是可以用公钥哈希。而哈希函数一般都是不可逆的，所以即使量子计算也无法反推私钥。<br>BTC中用的SHA-256，无论输入多大，最终结果都为256位，必然会导致信息丢失，无法反推原本数据。</p>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/06/26/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/12-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/26/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/12-%E9%9B%B6%E7%9F%A5%E8%AF%86%E8%AF%81%E6%98%8E/" class="post-title-link" itemprop="url">12-零知识证明</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-06-26 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-26T00:00:00+08:00">2023-06-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-11-09 10:01:34" itemprop="dateModified" datetime="2023-11-09T10:01:34+08:00">2023-11-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>932</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="零知识证明"><a href="#零知识证明" class="headerlink" title="零知识证明"></a>零知识证明</h1><p><strong>定义：一方（证明者）向另一方（验证者）证明某一个陈述是正确的，但不需要透露除该陈述是正确的之外的任何信息。</strong></p>
<blockquote>
<p>例如：A想要向B证明某一账户属于A，。但不可能通过A公布私钥的方法来证明，该账户确实属于A。因此，A可以产生一个账户签名，B通过公钥对签名进行验证。(实际上该证明是否属于零知识证明存在争议，因为泄露了用私钥产生的签名)</p>
</blockquote>
<h1 id="同态隐藏"><a href="#同态隐藏" class="headerlink" title="同态隐藏"></a>同态隐藏</h1><p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230103104432576.png" alt="image-20230103104432576"> </p>
<p>零知识证明的数学基础便是同态隐藏。上图为同态隐藏的三个性质：</p>
<ul>
<li>第一个性质，说明如果有E(X)&#x3D;E(y)，则必然有x&#x3D;y。(无碰撞)</li>
<li>第二个性质，说明加密函数不可逆。知道加密值，无法反推出密码值。</li>
<li>第三个性质，最为重要，称为同态运算。说明对加密后的函数值进行某些代数运算，等价于对输入直接进行代数运算再加密。</li>
</ul>
<h4 id="例子：A想要向B证明他知道一组数X和Y使得X-Y-7，同时不想让B知道X和Y的具体数值。"><a href="#例子：A想要向B证明他知道一组数X和Y使得X-Y-7，同时不想让B知道X和Y的具体数值。" class="headerlink" title="例子：A想要向B证明他知道一组数X和Y使得X+Y&#x3D;7，同时不想让B知道X和Y的具体数值。"></a><strong>例子：A想要向B证明他知道一组数X和Y使得X+Y&#x3D;7，同时不想让B知道X和Y的具体数值。</strong></h4><p>最简单的证明版本如下：<br>1.Alice将E(x)、E(y)发给Bob。（性质2，不可逆）<br>2.Bob通过收到的E(x)、E(y)计算得到E(X+Y)。（性质3，同态加法）<br>3.Bob进行验证E(x+y)和E(7)是否相等。若相等则验证通过，否则验证失败。（性质1，无碰撞）</p>
<h1 id="盲签"><a href="#盲签" class="headerlink" title="盲签"></a>盲签</h1><p>盲签名是一种特殊的数字签名技术。盲签名因签名的人看不到所签署文件的具体内容而闻名，它有两个显著的特点：一是签名者对消息的内容是不可见的 ;二是签名被公开后，签名者不能追踪签名。</p>
<p>例如A向B转账：</p>
<p>用户A提供SerialNum银行在不知道SerialNum的情况下返回签名Token，减少A的存款<br>用户A把SerialNum和Token交给B完成交易<br>用户B拿SerialNum和Token给银行验证，银行验证通过，增加B的存款<br>银行无法把A和B联系起来。<br>中心化</p>
<h1 id="零币和零钞——专门为匿名性设计的货币"><a href="#零币和零钞——专门为匿名性设计的货币" class="headerlink" title="零币和零钞——专门为匿名性设计的货币"></a>零币和零钞——专门为匿名性设计的货币</h1><p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230103105451546.png" alt="image-20230103105451546"> </p>
<p>零币在花费的时候，只需要用零知识证明来证明所花掉的币是系统中存在的某一个合法的币，但不用透露具体花掉的是系统中哪一个币。这样就破坏了关联性。</p>
<p>当然，这类货币并非主流加密货币，因为其为了设计匿名性，付出了一定代价，而且，需要强匿名性的用户并不多。</p>
<p>从数学上看，零币和零钞是安全的。但其并不是百分之百的匿名，其并未解决与系统外部实体发生交互时对匿名性的破坏。</p>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/06/24/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/11-%E5%8C%BF%E5%90%8D%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/24/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/11-%E5%8C%BF%E5%90%8D%E6%80%A7/" class="post-title-link" itemprop="url">11-匿名性</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-06-24 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-24T00:00:00+08:00">2023-06-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>790</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="BTC系统并不是具有很好的匿名性"><a href="#BTC系统并不是具有很好的匿名性" class="headerlink" title="BTC系统并不是具有很好的匿名性"></a>BTC系统并不是具有很好的匿名性</h1><h2 id="BTC系统破坏其匿名性的情况"><a href="#BTC系统破坏其匿名性的情况" class="headerlink" title="BTC系统破坏其匿名性的情况"></a>BTC系统破坏其匿名性的情况</h2><p><strong>1.用户可以生成多个地址账户，但这些地址账户可以很容易被关联起来</strong><br>表面上看，每次交易可以更换公私钥对，从而每次都是新的账户，具有很强的匿名性。但实际上，这些账户在一定情况下，是可以被关联起来的。</p>
<blockquote>
<p>某个交易有2个输入和两个输出，所以addr1和addr2很可能是同一个人所持有的账户，因为该人同时拥有这两个私钥的地址。(一个账户中的钱可能不够)，而在输出中，很有可能有一个地址是属于找零钱的地址，即花掉之后剩余的钱。在某些情况下，也是可以分析出来的。</p>
</blockquote>
<p><strong>2.地址账户与个人在真实社会中的身份也可能会产生关联。</strong><br>任何使得BTC和实体世界中关联的操作都有可能泄露用户真实身份，其中最明显的就是资金的转入转出。要得到BTC，如果用钱买，就会与实体世界进行交互。想要将BTC转为现实中的货币，也同样需要与实体世界交互。</p>
<blockquote>
<p>在很多国家，都有防洗钱法。如何防范不法分子采用BTC进行洗钱呢？其实很简单，只需要盯住资金转入转出链即可。对于大额资金转入BTC或将大量BTC转为现实货币，很难逃避司法金融机构的监管。</p>
</blockquote>
<p><strong>3.BTC支付时候</strong><br>例如某些商家接受用BTC进行支付，例如可以用BTC购买咖啡、蛋糕等。(这种场景信用卡已经解决的很好了，用BTC交易延迟高，交易费贵，并非一个好的idea)，在进行支付时候，便和个人账户建立了联系，从而会泄露掉个人信息。</p>
<h2 id="BTC匿名性有多好？如何提高匿名性？"><a href="#BTC匿名性有多好？如何提高匿名性？" class="headerlink" title="BTC匿名性有多好？如何提高匿名性？"></a>BTC匿名性有多好？如何提高匿名性？</h2><p>匿名的本质是不想要暴露身份。而对于普通人来说，BTC的现有机制已经足够保持个人隐私了。但如果涉及违法，行政机关想要获得真实身份，其实很容易。<br><strong>那么可以采取哪些方法尽可能提高匿名性？</strong></p>
<blockquote>
<p>从应用层看，可以将各个不同用户的BTC混合在一起，使得追查变得混乱(Coin mixing)；从网络层看，可以采用多路径转发的方法，数据不直接发送出去，而是经过很多跳(洋葱路由的基本思想)。</p>
</blockquote>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/06/21/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/10-%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/21/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/10-%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94/" class="post-title-link" itemprop="url">10-问题解答</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-06-21 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-21T00:00:00+08:00">2023-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-27 16:03:09" itemprop="dateModified" datetime="2023-10-27T16:03:09+08:00">2023-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一些问题及其解答"><a href="#一些问题及其解答" class="headerlink" title="一些问题及其解答"></a>一些问题及其解答</h1><ol>
<li><p><strong>转账交易时候，如果接收者不在线(没有连在比特币网络上)怎么办？</strong><br>转账交易只需要在区块链上记录，将某账户比特币转到另一账户，而接收方是否在线并无影响。</p>
</li>
<li><p><strong>假设某全节点收到某个转账交易，会不会有可能转账交易中收款人地址该全节点从未听过。</strong><br>可能，因为比特币账户只需要本地产生即可。只有该账户第一次收到钱时，其他节点才能知道该节点的存在。</p>
</li>
<li><p><strong>如果账户私钥丢失怎么办？</strong><br>没有办法。因为比特币是去中心化货币，没有第三方中心机构可以重置密码，所以账户上的钱也就变成了死钱。<br>通过加密货币交易所(中心化机构)，一般需要提供身份证明，如果忘记私钥可以找交易所申请追回私钥。但目前这类货币的交易所，尚且处于缺少监管的状态，并不一定具有可信力。而且，其本身仅起到“中介”作用，与该提问的回答“私钥丢失无法追回里面的比特币”并不冲突。<br>在历史上，有很多次交易所被黑客攻击偷走大量加密货币的事情，其中最著名的为Mt. GOX（中文译为：门头沟）事件。该交易所曾经为全球最大比特币交易所，交易量占到全球比特币交易量的70%左右，设于日本。后来由于被攻击丢失大量比特币，导致交易所破产，其CEO被判刑入狱。<br>此外，也有交易所监守自盗，工作人员卷款跑路(有点类似 rm -rf *&#x2F; 删库跑路)。</p>
</li>
<li><p><strong>私钥泄露怎么办？</strong><br>尽快将剩余BTC转到其他安全账户上，没有第三方中心机构重置密码或冻结账户，只能自己对自己负责。<br>BTC系统中账户便是公私钥对，密码就是私钥，无法更改。</p>
</li>
<li><p><strong>转账写错地址怎么办？</strong><br>没有办法，只能自认倒霉，无法取消已经发布的交易。如果转入不存在地址，则该部分比特币便成为了死钱。当然，比特币系统中UTXO会永久保存该交易，记录该并不存在的地址。因此，对全节点来说，这是不友好的。</p>
</li>
<li><p><strong>之前在BTC脚本中介绍了OP_RETURN指令，我们提到，这种方法为普通用户提供了一个向比特币网络中写入想要一直保存的内容。但OP_RETURN执行结果是无条件返回错误，而交易返回错误，区块又怎么会包含它？区块链又如何会接收这个区块？</strong></p>
<blockquote>
<p>思想1：特殊机制，该脚本即使返回错误，仍然写入区块链。（实际并不是）<br>思想2：即使返回失败，仍然写入区块链，只是具体处理时候不计算其即可。(恶意节点大量抛出失败交易，攻击区块链怎么办？上一篇中提到，每秒平均只能处理7笔交易)</p>
</blockquote>
<p>要想清楚，OP_RETURN是写在哪里的。OP_RETURN实际写在当前交易的输出脚本中，而验证交易合法性时，使用的当前交易的输入脚本和前一个交易(币来源的交易)的输出脚本进行验证。也就是说，验证当前交易合法性时，并不会执行该语句。（是不是感觉很妙呀？？？）只有在有人想花这笔钱时候，才会执行该语句。</p>
</li>
<li><p><strong>BTC系统挖矿，会不会有矿工“偷”答案？例如：某个矿工发现其他矿工发布了nonce，收到后验证该区块合法，将该nonce作为自己找到的nonce发布出去。</strong><br>实际上这是不可能的。发布的区块中包含铸币交易，其收款人地址为挖到矿的矿工地址，如果要偷答案，需要修改该收款地址，而地址改变，铸币交易内容也发生改变，从而引发Merkle Tree根哈希值改变。从而导致原本的nonce作废。也就是说，不可能会“偷”答案。</p>
</li>
<li><p><strong>交易费是交易者为了自己交易可以上链而给出的“小费”，那么如何得知哪个矿工可以挖到矿？</strong><br>事先无需知道谁会挖到矿，交易中总输入和总输出差额就是交易费。哪个矿工挖到矿，在打包交易时，可以将这些交易费收集起来作为自己获得的交易费。</p>
</li>
</ol>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/06/15/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/09-%E5%88%86%E5%8F%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/15/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/09-%E5%88%86%E5%8F%89/" class="post-title-link" itemprop="url">09-分叉</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-06-15 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-15T00:00:00+08:00">2023-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-11-09 10:01:34" itemprop="dateModified" datetime="2023-11-09T10:01:34+08:00">2023-11-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>860</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="分叉-fork-形成的原因"><a href="#分叉-fork-形成的原因" class="headerlink" title="分叉(fork)形成的原因"></a>分叉(fork)形成的原因</h1><ol>
<li>挖矿时两个节点差不多同时挖出矿，都会发布区块(对比特币系统当前状态产生分歧导致的分叉</li>
<li>分叉攻击，同样也会导致分叉(forking attack，人为故意造成)</li>
<li>比特币协议改变，在分布式系统中不能保证所有节点同时升级软件，假设存在少数节点未升级，导致出现分叉</li>
</ol>
<h1 id="硬分叉-hard-fork-：旧结点不认可新结点"><a href="#硬分叉-hard-fork-：旧结点不认可新结点" class="headerlink" title="硬分叉(hard fork)：旧结点不认可新结点"></a>硬分叉(hard fork)：旧结点不认可新结点</h1><blockquote>
<p>什么情况会出现硬分叉？<br>对比特币协议增加新协议，扩展新功能，未升级软件的旧节点会不认可这些修改，会认为这些特性是非法的。这也就是对比特币协议内容产生分歧，从而导致分叉。</p>
</blockquote>
<h4 id="典型例子，就是对比特币区块大小的修改"><a href="#典型例子，就是对比特币区块大小的修改" class="headerlink" title="典型例子，就是对比特币区块大小的修改"></a>典型例子，就是对比特币区块大小的修改</h4><p>假设将区块大小从1MB增大至4MB，系统中大多数节点更新了软件，少数节点仍然遵从1MB限制的协议(注意，这里大多数和少数是按照算力来区分的</p>
<p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230102104357355.png" alt="image-20230102104357355"> </p>
<p>此时，就出现了新节点永远沿着上面的链挖矿，旧节点永远沿着下面的链挖矿，由于新节点算力足够强，所以形成两条永远都在延伸且平行的链。当然，上面的链，也有可能会挖出大小在1MB内的小区块，但对旧节点来说，该链上存在非法区块，不会认可该链。可见，这种分叉是持久性的。<br>只要这部分旧节点永远不更新软件，下面的链便永远不会消失。</p>
<h1 id="软分叉-soft-fork-：新结点不认可旧结点"><a href="#软分叉-soft-fork-：新结点不认可旧结点" class="headerlink" title="软分叉(soft fork)：新结点不认可旧结点"></a>软分叉(soft fork)：新结点不认可旧结点</h1><p>如果对BTC协议添加限制，使得原本合法交易在新交易中不合法，便会形成软分叉。</p>
<p>假设将区块大小从1MB减小至0.5MB(实际中，1MB已经足够小，不会调小了)，系统中大多数节点更新了软件，少数节点仍然遵从1MB限制的协议(注意，这里大多数和少数是按照算力来区分的</p>
<p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230102105312754.png" alt="image-20230102105312754"> </p>
<p>新节点会认为该旧节点挖出区块超过0.5MB限制，为一个非法区块，不会认可该区块，会从其前一个小区块开始挖矿。而旧节点认可新区块，最终会造成5中的效果(绿色大节点为旧节点)，旧节点挖出的区块一直被抛弃，无法得到出块奖励(不在最长合法链上)。这就逼迫旧节点升级软件，最终会实现区块链上的所有矿工共同认可新协议，实现软件协议的升级。</p>
<blockquote>
<p>需要注意的是，旧节点如果不升级软件，挖出的区块可能就白挖了(大于0.5MB)，但对于系统来说，不会存在永久性分叉。</p>
</blockquote>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kongpengyq.com/2023/06/14/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/08-%E8%84%9A%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avater.png">
      <meta itemprop="name" content="幺柒YQ">
      <meta itemprop="description" content="努力坚持就会有希望">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YQ & 博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2023/06/14/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/08-%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">08-脚本</a>
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-06-14 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-14T00:00:00+08:00">2023-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-11-09 10:01:34" itemprop="dateModified" datetime="2023-11-09T10:01:34+08:00">2023-11-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%AF%94%E7%89%B9%E5%B8%81/" itemprop="url" rel="index">
                    <span itemprop="name">比特币</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>198</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="输入输出脚本的几种形式"><a href="#输入输出脚本的几种形式" class="headerlink" title="输入输出脚本的几种形式"></a>输入输出脚本的几种形式</h1><h3 id="P2PK形式-Pay-to-public-key"><a href="#P2PK形式-Pay-to-public-key" class="headerlink" title="P2PK形式(Pay to public key)"></a>P2PK形式(Pay to public key)</h3><p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230102100446562.png" alt="image-20230102100446562"> </p>
<h3 id="P2PKH形式-Pay-to-public-key-hash-——最常用"><a href="#P2PKH形式-Pay-to-public-key-hash-——最常用" class="headerlink" title="P2PKH形式(Pay to public key hash)——最常用"></a>P2PKH形式(Pay to public key hash)——最常用</h3><p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230102101027264.png" alt="image-20230102101027264"> </p>
<h3 id="P2SH形式-Pay-to-script-hash）"><a href="#P2SH形式-Pay-to-script-hash）" class="headerlink" title="P2SH形式(Pay to script hash）"></a>P2SH形式(Pay to script hash）</h3><p><img src="/noteimg/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%AF%94%E7%89%B9%E5%B8%81/img/image-20230102102045092.png" alt="image-20230102102045092"> </p>
<blockquote>
<p>特点：输出脚本给出的不是收款人公钥的哈希，而是收款人提供的一个脚本的哈希。该脚本称为redeemScript,即赎回脚本。等未来花钱的时候，输入脚本要给出redeemScript的具体内容以及可以使之正确运行需要的签名。</p>
</blockquote>

      
    </div>

    
    
    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="幺柒YQ"
      src="/images/avater.png">
  <p class="site-author-name" itemprop="name">幺柒YQ</p>
  <div class="site-description" itemprop="description">努力坚持就会有希望</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">232</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kpyaoqi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kpyaoqi" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:18312386077@163.com" title="E-Mail → mailto:18312386077@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/wechat.jpg" title="WeChat → images&#x2F;wechat.jpg"><i class="fa fa-fw fa-wechat"></i>WeChat</a>
      </span>
      <span class="links-of-author-item">
        <a href="/images/qq.jpg" title="QQ → images&#x2F;qq.jpg"><i class="fa fa-fw fa-qq"></i>QQ</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://baidu.com/" title="https:&#x2F;&#x2F;baidu.com" rel="noopener" target="_blank">百度</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://stackoverflow.com/" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;" rel="noopener" target="_blank">Stackoverflow</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2021-11 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">幺柒YQ</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">899k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">13:37</span>
</div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共379.4k字</span>
</div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

  


</body>
</html>
